---
title: Solumon插入算法
toc: true
date: 2018-04-10 16:08:47
tags:
categories: 车货匹配算法

---

# 前推值

$u$为准备插入$j$与$j-1$的客户

$b_j$为车辆到达$j$开始服务时间

$t_{ij}$为在点$i, j$之间的时间

$s_j$为在$j$的服务时间

点$j$的时间窗为$[e_j, l_j]$

$b_j'$ 为$j$与$j-1$之间插入$u$后，车辆到达$j$的时间

———————————————————————

在VRPTW中，有：

$b_j = \max\{e_j, b_{j-1} + s_{j-1}+t_{j,j-1}\}$ 

$w_j = \max\{0, e_j - b_j\}$

定义前推值$PF$:

$PF_j = b_j'- b_j$

有以下定理：

$PF_{j+1} = \max\{0, PF_j - w_{j+1}\}$

$PF_j$表示了插入$u$后对到达$j$时间的影响，它对下一个结点$j+1$的影响就是抵消掉原本在$j+1$结点的等待时间之后所剩余的时间，若没有剩余，说明$b_j'$与$b_j$都是$j+1$的开始服务时间，因此之差就是0。

———————————————————————

将$u$插入$j$与$j-1$之间的充要条件为：

- $b_u \le l_u$
- $b_{ir} + PF_{ir} \le l_{lr}, j \le ir \le n$

